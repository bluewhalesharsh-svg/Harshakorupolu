<p>‡∞∑‡∞∞‡∞§‡±Å‡∞≤‡±Å ‡∞≤‡±á‡∞ï‡±Å‡∞Ç‡∞°‡∞æ ‡∞â‡∞Ç‡∞ü‡∞æ,‡∞∂‡∞§‡∞æ‡∞¨‡±ç‡∞¶ ‡∞ï‡∞æ‡∞≤‡∞Æ‡±à‡∞®</p>
    <p>Will you be my Valentine?</p>
    <div class="buttons-area" id="valArea">
      <button class="btn heartbeat" onclick="goYes()">YES üíï</button>
      <button class="btn heartbeat" id="noBtn" onclick="escapeNo()">NO üòè</button>
    </div>
    <div id="taunt"></div>
  </div>
</div>

<div class="page" id="destinyPage">
  <div class="destinyText">
    Haha‚Ä¶üòåüíñ<br>
    ‡∞®‡∞æ‡∞ï‡±Å ‡∞§‡±Ü‡∞≤‡±Å‡∞∏‡±Å‡∞∞‡∞æ ‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å YES ‡∞è ‡∞®‡±ä‡∞ï‡±ç‡∞ï‡±Å‡∞§‡∞æ‡∞µ‡∞®‡∞øüòÅ<br>
    ‡∞ï‡∞æ‡∞µ‡∞æ‡∞≤‡∞®‡±Å‡∞ï‡±Å‡∞®‡±ç‡∞®‡∞æ ‡∞µ‡∞ø‡∞°‡∞ø‡∞™‡±ã‡∞®‡∞ø ‡∞¨‡∞Ç‡∞ß‡∞Ç ‡∞ï‡∞¶‡∞æ ‡∞Æ‡∞∞‡±Äüí´
    <div class="buttons-area" style="justify-content:center;margin-top:40px">
      <button class="btn" onclick="showFinal()">‡∞á‡∞Ç‡∞ï‡±Ü‡∞Ç‡∞¶‡±Å‡∞ï‡±Å ‡∞Ü‡∞≤‡∞∏‡±ç‡∞Ø‡∞Ç‚ú®</button>
    </div>
  </div>
</div>

<div class="page" id="finalPage">
  <div class="finalText" id="finalText"></div>
</div>

<div id="petals"></div>
<div id="hearts"></div>

<script>
let tries=0, music=false, heartsStarted=false;

function openEnvelope(){
  document.querySelector('.envelope').classList.add('open');
  setTimeout(()=>showPage('page1'),1200);
}
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
function nextPage(id){showPage(id)}

function goYes(){
  document.getElementById('yesSound').play();
  showPage('destinyPage');
}

function showFinal(){
  showPage('finalPage');
  startHearts();
  typeFinalText();
}

function escapeNo(){
  tries++;
  const area=document.getElementById('valArea');
  const no=document.getElementById('noBtn');
  no.style.left=Math.random()*(area.clientWidth-160)+'px';
  no.style.top=Math.random()*60+'px';
  document.getElementById('taunt').innerText =
    tries<3 ? "Nice try üòå" : "No escape now üòò";
  if(tries>=3){no.style.display='none'}
}

function toggleMusic(){
  const m=document.getElementById('bgMusic');
  music?m.pause():m.play();
  music=!music;
}

/* petals */
for(let i=0;i<18;i++){
  const p=document.createElement('span');
  p.innerHTML='üå∏';
  p.style.left=Math.random()*100+'vw';
  p.style.fontSize=14+Math.random()*18+'px';
  p.style.animationDuration=6+Math.random()*6+'s';
  document.getElementById('petals').appendChild(p);
}

/* hearts */
function startHearts(){
  if(heartsStarted) return;
  heartsStarted=true;
  for(let i=0;i<14;i++){
    const h=document.createElement('span');
    h.innerHTML='üíñ';
    h.style.left=Math.random()*100+'vw';
    h.style.fontSize=16+Math.random()*20+'px';
    h.style.animationDuration=7+Math.random()*6+'s';
    document.getElementById('hearts').appendChild(h);
  }
}

/* final text animation */
function typeFinalText(){
  const text="Happy Valentine‚Äôs Day üíù ‚Äî‚úçÔ∏è";
  const container=document.getElementById('finalText');
  container.innerHTML='';
  [...text].forEach((ch,i)=>{
    const span=document.createElement('span');
    span.textContent=ch;
    span.style.animationDelay=`${i*0.08}s`;
    container.appendChild(span);
  });
}




/* THEATRE CURTAIN OPEN */
const curtainStage = document.getElementById('curtainStage');
const curtainSound = document.getElementById('curtainSound');

curtainStage.addEventListener('click', () => {
  curtainSound.volume = 0.4;
  curtainSound.play();

  curtainStage.classList.add('open');

  setTimeout(() => {
    curtainStage.style.pointerEvents = 'none';
  }, 1700);
}, { once:true });


  
  
</script>

</body>
</html>
